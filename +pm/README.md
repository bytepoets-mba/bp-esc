# Project Management (+pm)

This directory contains project management artifacts: product requirements, backlog items, and task tracking.

---

## Structure

```
+pm/
├── README.md                 # This file
├── PRD.md                    # Product Requirements Document (vision)
├── backlog/                  # Active backlog items
│   └── PPPP.hhhhhhh.description.md
└── done/                     # Completed items (created as needed)
    └── PPPP.hhhhhhh.description.md
```

---

## File Naming Convention

Backlog items follow this format:

```
PPPP.hhhhhhh.description.md
```

**Components**:
- **PPPP**: 4-digit priority (0000-9999, lower number = higher priority)
- **hhhhhhh**: 7-character hex hash (unique identifier, collision-checked)
- **description**: Kebab-case slug (a-z, 0-9, hyphens only)

**Examples**:
- `0000.a1b2c3d.document-pm-backlog-structure.md` (highest priority)
- `0100.f3e8a91.implement-user-authentication.md` (high priority)
- `5000.c7d2b4a.refactor-legacy-code.md` (medium priority, default)
- `9000.e1f9c2b.nice-to-have-feature.md` (low priority)

---

## Creating Backlog Items

### Using Scripts (Recommended)

Run from repository root:

```bash
# Create with priority and description
./scripts/create-backlog-item.sh 0100 implement-feature-x

# Create with defaults (priority: 5000, description: timestamp)
./scripts/create-backlog-item.sh

# Just generate a unique hash
./scripts/lib/generate-hash.sh
```

### Manual Creation

If creating manually:

1. Generate unique hash: `./scripts/lib/generate-hash.sh`
2. Choose priority (0000-9999)
3. Create file: `+pm/backlog/PPPP.hash.description.md`
4. Use standard template (see below)

---

## Backlog Item Template

```markdown
# Title: [Short Description]

## Description
[Detailed description of the backlog item goes here.]

## Priority
PPPP

## Acceptance Criteria
- [ ] Criterion 1
- [ ] Criterion 2
- [ ] Criterion 3

## Additional Requirements
[Dependencies, estimates, notes, etc.]

## Status
[Draft | In Progress | Review | Done | Cancelled]
```

---

## Workflow

### 1. Create
```bash
./scripts/create-backlog-item.sh 0100 implement-oauth
```

### 2. Work
- Edit the markdown file
- Add detailed requirements
- Define acceptance criteria
- Update status as you progress

### 3. Complete
```bash
# Move to done/ folder
mkdir -p +pm/done
mv +pm/backlog/0100.abc1234.implement-oauth.md +pm/done/
```

### 4. Cancel (if needed)
```bash
# Update status to Cancelled in the file, or delete
trash +pm/backlog/9000.xyz9876.abandoned-feature.md
```

---

## Priority Guidelines

| Range | Use Case |
|-------|----------|
| **0000-0999** | Critical, blocking, foundation |
| **1000-2999** | High priority features |
| **3000-4999** | Standard features |
| **5000-6999** | Medium priority (default range) |
| **7000-8999** | Nice-to-have, improvements |
| **9000-9999** | Low priority, future ideas |

---

## Hash Generation

Hashes are 7-character hexadecimal identifiers generated by `scripts/lib/generate-hash.sh`:

- **Collision-checked**: Script verifies uniqueness in +pm/ directory
- **Bash built-ins**: Uses `$RANDOM`, no external dependencies
- **Format**: Lowercase hex (0-9, a-f)
- **Length**: 7 characters (28 bits entropy)

While not cryptographically secure, 7-char hex provides sufficient uniqueness for project-scale task tracking (~268 million possible values).

---

## LLM/Agent Usage

When working with Cursor or other AI agents:

- **Always use the scripts** to create backlog items
- **Never manually generate hashes** - use `generate-hash.sh`
- Scripts are documented in `.cursor/rules/DEVELOPER.mdc` and `AGENTS.md`
- This ensures consistency and prevents hash collisions

---

## PRD Integration

The `PRD.md` file contains the product vision and requirements. Backlog items should trace back to PRD requirements where applicable.

When implementing features:
1. Check PRD for requirements
2. Create backlog item for implementation
3. Reference PRD sections in backlog item
4. Update PRD if implementation reveals needed changes

---

## Examples

### High Priority Security Fix
```
0050.e3f9a1c.fix-sql-injection-vulnerability.md
```

### Standard Feature
```
3000.a7b2c8d.add-user-profile-page.md
```

### Technical Debt
```
7500.f1e4d9b.refactor-authentication-module.md
```

---

## Tips

- **Keep descriptions short** - slug should be under 50 chars
- **Use kebab-case** - all lowercase, hyphens for spaces
- **Be specific** - "add-login-form" not "improve-auth"
- **Track status** - update the Status field as work progresses
- **Archive completed** - move to done/ when finished

---

## Questions?

Check documentation:
- `scripts/README.md` - Script usage details
- `.cursor/rules/DEVELOPER.mdc` - Development workflows
- `AGENTS.md` - Agent interaction guidelines
