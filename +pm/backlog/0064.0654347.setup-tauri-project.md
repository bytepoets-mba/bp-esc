# Title: Setup Tauri Project

## Description

Initialize Tauri project structure for bp-esc macOS app.

## Priority
0100

## Requirements

- Nix with direnv for reproducible dev environment
- Rust toolchain (via Nix)
- Node.js/npm (via Nix)
- Tauri dependencies (pkg-config, openssl)
- macOS 11.0+ target

## Tasks

### 1. Nix Environment Setup

- [ ] Create `devenv.nix`:
  ```nix
  { pkgs, ... }:
  {
    packages = with pkgs; [
      rustc
      cargo
      nodejs
      pkg-config
      openssl
      # tauri-cli  # if available in nixpkgs, or install via cargo
    ];
    
    env = {
      PKG_CONFIG_PATH = "${pkgs.openssl.dev}/lib/pkgconfig";
    };
    
    enterShell = ''
      echo "ðŸ¦€ Tauri dev environment loaded"
      echo "Rust: $(rustc --version)"
      echo "Node: $(node --version)"
    '';
  }
  ```

- [ ] Create `.envrc`:
  ```bash
  use devenv
  ```

- [ ] Run `direnv allow` and verify environment loads

- [ ] Install Tauri CLI: `cargo install tauri-cli`
  (or add to devenv if available in nixpkgs)

### 2. Tauri Project Initialization

- [ ] Run `cargo tauri init` or use create-tauri-app

- [ ] Configure `tauri.conf.json`:
  - App name: "BP Employee Self-Care"
  - Bundle identifier: com.bytepoets.bp-esc
  - macOS target: 11.0+
  - Window config (size, resizable, etc.)

- [ ] Choose frontend: Plain HTML/CSS/JS (simplest)

- [ ] Verify `cargo tauri dev` runs

- [ ] Verify `cargo tauri build` creates .app bundle

## Acceptance Criteria

- [ ] `direnv allow` loads environment without errors
- [ ] Rust and Node.js available in shell
- [ ] Project builds successfully
- [ ] Dev mode launches app window
- [ ] Production build creates .app in `src-tauri/target/release/bundle/`
- [ ] App runs on macOS 11.0+
- [ ] `.envrc` and `devenv.nix` committed to repo

## Notes

- Keep it minimal - no fancy frontend framework needed
- Nix ensures reproducible builds across machines
- `devenv.nix` is simpler than traditional `shell.nix`
- If `tauri-cli` not in nixpkgs, install via cargo (fine for dev tools)

## Estimate

4 hours
